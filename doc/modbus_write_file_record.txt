modbus_write_file_record(3)
===========================


NAME
----
modbus_write_file_record - Write records to a file


SYNOPSIS
--------
*int modbus_write_file_record(modbus_t *'ctx', int 'addr', int 'sub_addr', int 'nb', const uint16_t * 'src');*


DESCRIPTION
-----------
The *modbus_write_file_record()* function writes the content of the _nb_
records from the _src_ array to file number _addr_, starting from position
_sub_addr_ in the file.

A file is an array of records, each of 16 bits.

* A modbus device may have up to 65535 files, addressed 1 to 65535 decimal.
* Each file contains 10000 records, addressed 0000 to 9999 decimal.

A maximum of 124 records (_nb_) may be written in a single request.

This function uses the Modbus function code 0x15 (Write File Record). Note that
althrough the ModBus Specification allows for multiple non-contiguous writes in
the same file to be made in a single request, this function only supports a
single contiguous write request.


RETURN VALUE
------------
The function shall return the number of records written (i.e. the value of _nb_) if successful.
Otherwise it shall return -1 and set errno.


SEE ALSO
--------
linkmb:modbus_write_register[3]
linkmb:modbus_read_file_register[3]


AUTHORS
-------
The libmodbus file support was added by Kamil Wcislo <mek.xgt@gmail.com> and
the documentation extended by Richard Ash at EA Technology.
